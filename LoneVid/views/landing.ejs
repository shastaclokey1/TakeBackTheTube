<!DOCTYPE html>
<html>
    <head>
        <title>Lone Vid</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <link rel="stylesheet" href="/stylesheets/landing.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" type="text/javascript" async></script>
    </head>
    <body>
    
    <div id="landing-header">
      <h1><img id="landing-logo" src="/images/LoneVidLogo.png" alt="LoneVid Logo"></h1>
      <div>
        <input onchange="updateBtnHref()" type="text" id="searchBar" name="search"><br><br>
      </div>
      <div>
        <select onchange="updateBtnHref()" name="playlistSelection" id="playlistSelectionDropdown">
          <% playlists.forEach(function(playlistIdAndName){ %>
            <option value="<%=playlistIdAndName[0]%>"><%=playlistIdAndName[1]%></option>
          <% }) %>
        </select><br><br>
      </div>
      <a id="dashboardBtn" href="/dashboard?playlistId=<%=playlists[0][0]%>" class="btn btn-lg btn-danger">Dashboard</a>
    </div>
    
    <ul class="slideshow">
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
    </ul>

    <script>
      function updateBtnHref() 
      {
        var playlistSelector = document.querySelector("#playlistSelectionDropdown");
        var dashboardButton = document.querySelector("#dashboardBtn");
        var searchBar = document.querySelector("#searchBar");
        dashboardButton.href = "/dashboard?playlistId=" + playlistSelector.value + "&searchKey=" + searchBar.value;
      }
      </script>

<% include partials/footer %>
